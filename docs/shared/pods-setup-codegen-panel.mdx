<ExpansionPanel title="Cocoapods">

Apollo iOS compiles the Codegen CLI during `pod install`. This ensures you always have a valid CLI version for your Apollo iOS version.

The Codegen CLI is located in your project at `Pods/Apollo/apollo-ios-cli`

<ExpansionPanelList>
<ExpansionPanelListItem>

#### Initialize the code generation configuration

The Codegen CLI uses a JSON file to configure the code generation engine. Use the Codegen CLI `init` command to create this file with default values. From the directory of your `Podfile`, run:

```bash
./Pods/Apollo/apollo-ios-cli init --schema-name ${MySchemaName} --module-type other
```

* `${MySchemaName}` should be the name you want for the namespace of your generated schema files.
* `embeddedInTarget` or `other` are both suitable module types to use when your dependency manager for Apollo iOS is CocoaPods. If you use the `embeddedInTarget` module type you will need to also supply a target name using the `--target-name` command line option.

This will create an `apollo-codegen-config.json` file with the default values.

</ExpansionPanelListItem>
<ExpansionPanelListItem>

#### Configure code generation options

Open the `apollo-codegen-config.json` file to configure code generation for your project.

The default configuration will:
- Find all GraphQL schema files ending with the file extension `.graphqls` within your project directory.
- Find all GraphQL operation and fragment definition files ending with the file extension `.graphql` within your project directory.
- Generate Swift code for the schema types in a directory with the `schema-name` provided.
- Generate Swift code for the operation and fragment models in a subfolder within the schema types output location.

</ExpansionPanelListItem>
<ExpansionPanelListItem>

#### Run code generation

From the directory of your `Podfile` file, run:

```bash
./Pods/Apollo/apollo-ios-cli generate
```

Your generated files will be created with the file extension `.graphql.swift`.

</ExpansionPanelListItem>
<ExpansionPanelListItem>

#### Add the generated schema and operation files to your target

By default, a directory containing your generated schema files will be located in a directory with the `schema-name` you provided; your generated operation and fragment files will be in a subfolder in that same directory.

</ExpansionPanelListItem>
</ExpansionPanelList>

</ExpansionPanel>
